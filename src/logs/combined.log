{"level":"info","message":"Backend modularizado rodando na porta 5000.","service":"app-engenharia-backend","timestamp":"2026-02-01 20:01:16"}
{"level":"info","message":"Backend modularizado rodando na porta 5000.","service":"app-engenharia-backend","timestamp":"2026-02-01 20:09:06"}
{"level":"info","message":"Kit encontrado no CSV: CE2 BRAÇO J","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:36"}
{"level":"info","message":"Kit encontrado no CSV: CE3 BRAÇO J","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:36"}
{"level":"warn","message":"Kit não encontrado no CSV: KIT INEXISTENTE","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:36"}
{"level":"error","message":"CSV file not found at: ./caminho/falso.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:36"}
{"level":"info","message":"Kit encontrado no CSV: CE2 BRAÇO J","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:59"}
{"level":"info","message":"Kit encontrado no CSV: CE3 BRAÇO J","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:59"}
{"level":"warn","message":"Kit não encontrado no CSV: KIT INEXISTENTE","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:59"}
{"level":"error","message":"CSV file not found at: ./caminho/falso.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:10:59"}
{"level":"info","message":"Backend modularizado rodando na porta 5000.","service":"app-engenharia-backend","timestamp":"2026-02-01 20:15:11"}
{"level":"info","message":"Backend modularizado rodando na porta 5000.","service":"app-engenharia-backend","timestamp":"2026-02-01 20:18:21"}
{"level":"info","message":"GET /api/tensao/cabos","service":"app-engenharia-backend","timestamp":"2026-02-01 20:18:35"}
{"level":"info","message":"Tabela de cabos solicitada","service":"app-engenharia-backend","timestamp":"2026-02-01 20:18:35"}
{"level":"info","message":"Building materials index from: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\MOCK_DB.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:24:48"}
{"level":"info","message":"Materials index built: 2 kits, 5 total materials","service":"app-engenharia-backend","timestamp":"2026-02-01 20:24:49"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:02"}
{"level":"info","message":"Building materials index from: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\RESUMO KITS MAIS USADOS.xlsx - ESTRUTURAS BRAÇO J.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:02"}
{"level":"info","message":"Materials index built: 2 kits, 6 total materials","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:02"}
{"level":"info","message":"Materials cache initialized successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:02"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:02"}
{"level":"info","message":"Building materials index from: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\MOCK_DB.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:07"}
{"level":"info","message":"Materials index built: 2 kits, 5 total materials","service":"app-engenharia-backend","timestamp":"2026-02-01 20:25:07"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 20:34:57"}
{"level":"info","message":"Building materials index from: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\RESUMO KITS MAIS USADOS.xlsx - ESTRUTURAS BRAÇO J.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 20:34:57"}
{"level":"info","message":"Materials index built: 2 kits, 6 total materials","service":"app-engenharia-backend","timestamp":"2026-02-01 20:34:57"}
{"level":"info","message":"Materials cache built from CSV and persisted to disk","service":"app-engenharia-backend","timestamp":"2026-02-01 20:34:57"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 20:34:57"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 20:35:14"}
{"level":"info","message":"Materials cache loaded from disk: 2 kits, 6 materials (instant)","service":"app-engenharia-backend","timestamp":"2026-02-01 20:35:14"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 20:35:14"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:14:15"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:14:15"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:14:15"}
{"level":"info","message":"Materials cache loaded from disk: 2 kits, 6 materials (instant)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:14:15"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:14:15"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:16:29"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:16:29"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:16:29"}
{"level":"info","message":"Materials cache loaded from disk: 2 kits, 6 materials (instant)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:16:29"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:16:29"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"level":"info","message":"CSV modified. Syncing materials to DB: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\RESUMO KITS MAIS USADOS.xlsx - ESTRUTURAS BRAÇO J.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"level":"info","message":"Sync complete. Materials table rebuilt from CSV.","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:20:31"}
{"body":{},"level":"info","message":"POST /api/tracao/calcular","service":"app-engenharia-backend","timestamp":"2026-02-01 21:22:49"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:02"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:02"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:02"}
{"level":"info","message":"Materials DB is up to date with CSV (cached by mtime)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:02"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:02"}
{"body":{},"level":"info","message":"POST /api/tracao/calcular","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:12"}
{"body":{},"level":"error","message":"Error specialized handler: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]","method":"POST","service":"app-engenharia-backend","stack":"ZodError: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]\n    at C:\\myworld\\sisL\\app-engenharia\\src\\backend\\utils\\validation.js:18:12\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:582:12)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:186:3)","timestamp":"2026-02-01 21:23:12","url":"/api/tracao/calcular"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:25"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:25"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:25"}
{"level":"info","message":"Materials DB is up to date with CSV (cached by mtime)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:25"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:25"}
{"body":{},"level":"info","message":"POST /api/tracao/calcular","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:36"}
{"body":{},"level":"error","message":"Error specialized handler: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]","method":"POST","service":"app-engenharia-backend","stack":"ZodError: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]\n    at C:\\myworld\\sisL\\app-engenharia\\src\\backend\\utils\\validation.js:18:12\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:582:12)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:186:3)","timestamp":"2026-02-01 21:23:36","url":"/api/tracao/calcular"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:43"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:43"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:43"}
{"level":"info","message":"Materials DB is up to date with CSV (cached by mtime)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:43"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:43"}
{"body":{},"level":"info","message":"POST /api/tracao/calcular","service":"app-engenharia-backend","timestamp":"2026-02-01 21:23:47"}
{"body":{},"level":"error","message":"Error specialized handler: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]","method":"POST","service":"app-engenharia-backend","stack":"ZodError: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]\n    at C:\\myworld\\sisL\\app-engenharia\\src\\backend\\utils\\validation.js:18:12\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:582:12)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:186:3)","timestamp":"2026-02-01 21:23:47","url":"/api/tracao/calcular"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:24:57"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:24:57"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:24:57"}
{"level":"info","message":"Materials DB is up to date with CSV (cached by mtime)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:24:57"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:24:57"}
{"body":{},"level":"info","message":"POST /api/tracao/calcular","service":"app-engenharia-backend","timestamp":"2026-02-01 21:25:09"}
{"body":{},"level":"error","message":"Error specialized handler: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]","method":"POST","service":"app-engenharia-backend","stack":"ZodError: [\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"vao\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"pesoCabo\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  },\n  {\n    \"expected\": \"number\",\n    \"code\": \"invalid_type\",\n    \"path\": [\n      \"tracaoInicial\"\n    ],\n    \"message\": \"Invalid input: expected number, received undefined\"\n  }\n]\n    at C:\\myworld\\sisL\\app-engenharia\\src\\backend\\utils\\validation.js:18:12\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:582:12)\n    at next (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:291:5)\n    at router.handle (C:\\myworld\\sisL\\app-engenharia\\node_modules\\router\\index.js:186:3)","timestamp":"2026-02-01 21:25:09","url":"/api/tracao/calcular"}
{"level":"info","message":"Database tables created/verified successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Initializing database...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Warming up materials cache...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Materials DB is up to date with CSV (cached by mtime)","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Dynamic sync performed successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Started watching CSV for changes: RESUMO KITS MAIS USADOS.xlsx - ESTRUTURAS BRAÇO J.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"Backend modularizado rodando na porta 5000 (cache ativo).","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:48"}
{"level":"info","message":"CSV change detected, triggering sync...","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:58"}
{"level":"info","message":"CSV modified. Syncing materials to DB: C:\\myworld\\sisL\\app-engenharia\\src\\backend\\data\\RESUMO KITS MAIS USADOS.xlsx - ESTRUTURAS BRAÇO J.csv","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:58"}
{"level":"info","message":"Sync complete. Materials table rebuilt from CSV.","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:58"}
{"level":"info","message":"Dynamic sync performed successfully","service":"app-engenharia-backend","timestamp":"2026-02-01 21:29:58"}
